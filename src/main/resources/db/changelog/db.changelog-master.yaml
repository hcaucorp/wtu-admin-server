databaseChangeLog:
  - changeSet:
      id: 1550343877248-1
      author: hubertczerpak (generated)
      changes:
        - createSequence:
            sequenceName: fulfillment_sequence
  - changeSet:
      id: 1550343877248-2
      author: hubertczerpak (generated)
      changes:
        - createSequence:
            sequenceName: voucher_sequence
  - changeSet:
      id: 1550343877248-3
      author: hubertczerpak (generated)
      changes:
        - createSequence:
            sequenceName: wallet_sequence
  - changeSet:
      id: 1550343877248-4
      author: hubertczerpak (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    primaryKey: true
                    primaryKeyName: fulfillment_pkey
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: completed_at
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: order_id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: status
                  type: INTEGER
            tableName: fulfillment
  - changeSet:
      id: 1550343877248-5
      author: hubertczerpak (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    primaryKey: true
                    primaryKeyName: fulfillment_vouchers_pkey
                  name: fulfillment_id
                  type: BIGINT
              - column:
                  constraints:
                    primaryKey: true
                    primaryKeyName: fulfillment_vouchers_pkey
                  name: vouchers_id
                  type: BIGINT
            tableName: fulfillment_vouchers
  - changeSet:
      id: 1550343877248-6
      author: hubertczerpak (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    primaryKey: true
                    primaryKeyName: vouchers_pkey
                  name: id
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: amount
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: code
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: created_at
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: currency
                  type: VARCHAR(3)
              - column:
                  name: expires_at
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: published
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: redeemed
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: sku
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: sold
                  type: BOOLEAN
              - column:
                  constraints:
                    nullable: false
                  name: wallet_id
                  type: BIGINT
            tableName: vouchers
  - changeSet:
      id: 1550343877248-7
      author: hubertczerpak (generated)
      changes:
        - createTable:
            columns:
              - column:
                  constraints:
                    primaryKey: true
                    primaryKeyName: wallets_pkey
                  name: id
                  type: BIGINT
              - column:
                  name: address
                  type: VARCHAR(255)
              - column:
                  constraints:
                    nullable: false
                  name: created_at
                  type: BIGINT
              - column:
                  constraints:
                    nullable: false
                  name: currency
                  type: VARCHAR(3)
              - column:
                  constraints:
                    nullable: false
                  name: mnemonic
                  type: VARCHAR(255)
            tableName: wallets
  - changeSet:
      id: 1550343877248-8
      author: hubertczerpak (generated)
      changes:
        - addUniqueConstraint:
            columnNames: code
            constraintName: uk_30ftp2biebbvpik8e49wlmady
            tableName: vouchers
  - changeSet:
      id: 1550343877248-9
      author: hubertczerpak (generated)
      changes:
        - addUniqueConstraint:
            columnNames: address
            constraintName: uk_97gkb67pi15hxx44rq58buta6
            tableName: wallets
  - changeSet:
      id: 1550343877248-10
      author: hubertczerpak (generated)
      changes:
        - addUniqueConstraint:
            columnNames: vouchers_id
            constraintName: uk_i7p4jxipdwg7dts86okfhvv11
            tableName: fulfillment_vouchers
  - changeSet:
      id: 1550343877248-11
      author: hubertczerpak (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: vouchers_id
            baseTableName: fulfillment_vouchers
            constraintName: fkkxea2il38isiwertrysprxq4s
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: vouchers
            validate: true
  - changeSet:
      id: 1550343877248-12
      author: hubertczerpak (generated)
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: fulfillment_id
            baseTableName: fulfillment_vouchers
            constraintName: fklb1d1w88wc4yfimy9sburtx8s
            deferrable: false
            initiallyDeferred: false
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: fulfillment
            validate: true
  - changeSet:
      id: 19124016022019
      author: hubertczerpak
      changes:
        - dropColumn:
            columnName: status
            tableName: fulfillment